<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.mapper.BoardMapper">
  <select id="proList" resultType="board">
    select * from ( select *  from product order by num desc, regdate desc ) where rownum &gt;= 1 and rownum &lt;= 50
  </select>
  
  <select id="infiniteScrollDown" resultType="board" parameterType="int">
    select * from product where pro_no &lt;= ${value} and pro_no &gt;= ${value}-50 order by num desc, regdate desc
  </select>
  
  <select id="infiniteScrollUp" resultType="board" parameterType="int">
    select * from product where pro_no &lt;= ${value}+50 and pro_no &gt;= ${value} order by num desc, regdate desc
  </select>
  
  <select id="centerCount" resultType="int" parameterType="map">
    select count(*) from board
    <if test="searchType != null and searchContent != null">
      where ${searchType} like '%${searchContent}%'
    </if>
  </select>
  
   <select id="centerList" resultType="board" parameterType="map">
    select board_no, id, pass, subject, content, board_type, regdate, readcnt, ans_chk, img1 fileurl, 
    img2 fileurl2, img3 fileurl3 from board 
    <if test="searchType != null and searchContent != null">
      where ${searchType} like '%${searchContent}%'
    </if>
    order by board_no desc limit ${startrow}, ${endrow}
    
   <!-- 	select * from ( select rownum rnum, num, id, pass, subject, content, regdate, readcnt, ref, reflevel, 
   	refstep, img1, img2, img3 from ( select * from board
    order by ref desc, refstep asc )) where rnum &gt;= #{startrow} and rnum &lt;= #{endrow} -->
  </select>
  
  
</mapper>